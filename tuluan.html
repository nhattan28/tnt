<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>T·ª± lu·∫≠n</title>
  <link rel="stylesheet" href="tuluan.css">
</head>
<body>
  <div class="main-wrapper">
    <div class="container">
      <h1>üìù Ki·ªÉm tra t·ª± lu·∫≠n</h1>
      <div id="dropzone" class="dropzone">
        <p>K√©o v√† th·∫£ t·ªáp Word (.docx) v√†o ƒë√¢y ho·∫∑c</p>
        <label for="wordFile" class="custom-file-upload">Ch·ªçn t·ªáp</label>
        <input type="file" id="wordFile" accept=".doc,.docx" class="hidden">
        <p id="fileNameDisplay" class="file-name-display"></p>
      </div>

      <div id="config">
        <label>Nh·∫≠p ƒëi·ªÉm</label>
        <input type="number" id="pointPerQuestion" min="1" max="10">

        <div class="time-config-container">
          <label>Ch·∫ø ƒë·ªô th·ªùi gian:</label>
          <div>
            <input type="radio" id="unlimitedTime" name="timeMode" value="unlimited" checked>
            <label for="unlimitedTime">Kh√¥ng gi·ªõi h·∫°n</label>
          </div>
          <div>
            <input type="radio" id="limitedTime" name="timeMode" value="limited">
            <label for="limitedTime">Gi·ªõi h·∫°n th·ªùi gian </label>
            <input type="number" id="examTime" min="1" placeholder="Ph√∫t" disabled>
          </div>
        </div>
        
        <button onclick="startExam()">B·∫Øt ƒë·∫ßu</button>
        <button onclick="window.location.href='dinhdangtuluan.html'">ƒê·ªãnh d·∫°ng t·ª± lu·∫≠n</button>
        <button onclick="window.location.href='kiemtra.html'">Trang ch·ªß</button>
      </div>

      <div id="examContainer" class="hidden">
        <div id="progressBarContainer">
            <div id="progressBarFill"></div>
        </div>
        <div id="countdown" class="countdown"></div>
        <div id="questionCounter" class="question-counter"></div>
        
        <div class="questions-wrapper">
          <div id="questionsContainer">
            </div>
        </div>
      </div>

      <div id="resultContainer" class="hidden">
        <h2>K·∫øt qu·∫£</h2>
        <div id="resultSummary" class="result-summary-card">
          <div class="result-item">
            <p>T·ªïng s·ªë c√¢u h·ªèi</p>
            <span id="totalQuestions"></span>
          </div>
          <div class="result-item">
            <p>S·ªë c√¢u ƒë√£ l√†m</p>
            <span id="answeredQuestions"></span>
          </div>
          <div class="result-item correct">
            <p>S·ªë c√¢u ƒë√∫ng</p>
            <span id="correctQuestions"></span>
          </div>
          <div class="result-item incorrect">
            <p>S·ªë c√¢u sai</p>
            <span id="wrongQuestions"></span>
          </div>
          <div class="result-item">
            <p>ƒêi·ªÉm</p>
            <span id="finalScore"></span>
          </div>
          <div class="result-item time">
            <p>Th·ªùi gian l√†m b√†i</p>
            <span id="finalTime"></span>
          </div>
          <div class="result-item violation">
            <p>S·ªë l·∫ßn vi ph·∫°m</p>
            <span id="violationCount"></span>
          </div>
        </div>
        
        <p id="summaryMessage"></p>
        
        <div id="buttons">
          <button onclick="filterAnswers(true)">C√¢u ƒë√∫ng</button>
          <button onclick="filterAnswers(false)">C√¢u sai</button>
          <button onclick="retryLastExam()">L√†m l·∫°i b√†i</button>
          <button onclick="goHome()">Trang ch·ªß</button>
        </div>
        <div id="answerReview"></div>
      </div>
    </div>
    
    <div class="bottom-actions hidden">
      <button id="prevButton" onclick="prevQuestion()" disabled>L√πi</button>
      <button id="nextButton" onclick="nextQuestion()">Ti·∫øp</button>
      <button id="submitExamButton" onclick="submitExam()">N·ªôp b√†i</button>
    </div>
  </div>

  <div id="unansweredWarningModal" class="modal hidden">
    <div class="modal-content">
      <span class="close-button" onclick="closeWarning('unanswered')">√ó</span>
      <h3>B·∫°n ch∆∞a ho√†n th√†nh c√°c c√¢u sau:</h3>
      <ul id="unansweredList"></ul>
      <p>B·∫°n c√≥ mu·ªën n·ªôp b√†i kh√¥ng?</p>
      <div class="modal-actions">
        <button onclick="confirmSubmit()">N·ªôp b√†i</button>
        <button onclick="closeWarning('unanswered')">Quay l·∫°i</button>
      </div>
    </div>
  </div>

  <script src="tuluan.js"></script>
</body>
</html>
